import { isThemeParamsDark, useSignal } from "@telegram-apps/sdk-react";
import React from "react";

interface IconButtonProps {
  onClick?: () => void;
  disabled?: boolean;
  icon: "cart" | "search" | "share" | "close" | "remove" | "minus" | "plus";
  className?: string;
  ariaLabel?: string;
}

const IconButton = (props: IconButtonProps) => {
  const { icon, disabled, ariaLabel } = props;

  const isDark = useSignal(isThemeParamsDark);

  return (
    <button
      className="cursor-pointer"
      style={{ opacity: disabled ? 0.5 : 1 }}
      ariaLabel={ariaLabel}
      {...props}
    >
      {icon === "search" && (
        <svg
          width="28"
          height="28"
          viewBox="0 0 28 28"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4.45898 12.1133C4.45898 7.81641 7.95508 4.32031 12.252 4.32031C16.5488 4.32031 20.0449 7.81641 20.0449 12.1133C20.0449 13.8906 19.4492 15.5215 18.4434 16.8301L23.2188 21.6348C23.4238 21.8398 23.541 22.123 23.541 22.4355C23.541 23.0898 23.082 23.5879 22.418 23.5879C22.1055 23.5879 21.8125 23.4805 21.5879 23.2559L16.7832 18.4414C15.5039 19.3594 13.9512 19.9062 12.252 19.9062C7.95508 19.9062 4.45898 16.4102 4.45898 12.1133ZM6.12891 12.1133C6.12891 15.4922 8.87305 18.2363 12.252 18.2363C15.6309 18.2363 18.375 15.4922 18.375 12.1133C18.375 8.73438 15.6309 5.99023 12.252 5.99023C8.87305 5.99023 6.12891 8.73438 6.12891 12.1133Z"
            fill={isDark ? "white" : "black"}
          />
        </svg>
      )}
      {icon === "cart" && (
        <svg
          width="28"
          height="28"
          viewBox="0 0 28 28"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.5 12.2411V11.761C2.5 10.8399 3.0696 10.2519 4.00256 10.2519H5.91759L9.67891 3.89225C9.94407 3.45129 10.4155 3.42189 10.769 3.60808C11.1324 3.80406 11.3484 4.21562 11.0833 4.68598L7.8719 10.2519H20.1281L16.9167 4.68598C16.6516 4.21562 16.8775 3.80406 17.231 3.60808C17.5944 3.43169 18.0658 3.46109 18.3211 3.89225L22.0824 10.2519H23.9876C24.9206 10.2519 25.5 10.8399 25.5 11.761V12.2411C25.5 13.1721 24.9206 13.7404 23.9876 13.7404H4.00256C3.0696 13.7404 2.5 13.1721 2.5 12.2411ZM8.74594 24.4999C6.47737 24.4999 5.77028 23.177 5.48548 21.7561L4.13023 15.0829H23.8796L22.5145 21.7561C22.2297 23.177 21.5226 24.4999 19.2541 24.4999H8.74594ZM9.38429 22.8144C9.76729 22.7458 9.96371 22.4813 9.9146 22.1481L9.07985 17.2191C9.02092 16.8859 8.73612 16.6997 8.36294 16.7487C7.98975 16.8173 7.7737 17.0819 7.83262 17.4151L8.6772 22.3441C8.73612 22.6772 9.0111 22.8732 9.38429 22.8144ZM18.6157 22.8144C18.9791 22.8732 19.2639 22.6772 19.3228 22.3441L20.1674 17.4347C20.2263 17.1015 20.0102 16.8173 19.6371 16.7487C19.2639 16.6997 18.9791 16.8859 18.9202 17.2191L18.0854 22.1481C18.0363 22.4813 18.2327 22.7458 18.6157 22.8144ZM12.4974 22.8046C12.8608 22.785 13.1063 22.5302 13.0867 22.1873L12.7626 17.3171C12.7331 16.9741 12.4778 16.7389 12.0948 16.7683C11.7314 16.7977 11.4859 17.0427 11.5056 17.3857L11.8296 22.2559C11.8493 22.5988 12.1243 22.8242 12.4974 22.8046ZM15.5222 22.8046C15.8856 22.8242 16.1605 22.5988 16.1802 22.2559L16.5043 17.3857C16.5239 17.0427 16.2784 16.7977 15.915 16.7683C15.532 16.7389 15.2767 16.9741 15.2472 17.3171L14.9231 22.1873C14.9035 22.5302 15.149 22.785 15.5222 22.8046Z"
            fill={isDark ? "white" : "black"}
          />
        </svg>
      )}

      {icon === "share" && (
        <svg
          width="28"
          height="28"
          viewBox="0 0 28 28"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15.4976 22.9995C15.1489 22.9995 14.8584 22.8867 14.626 22.6611C14.4004 22.4355 14.2876 22.1484 14.2876 21.7998V17.8828H13.9902C12.6709 17.8828 11.502 18.0127 10.4834 18.2725C9.46484 18.5322 8.56592 18.98 7.78662 19.6157C7.00732 20.2446 6.32031 21.1196 5.72559 22.2407C5.54785 22.5688 5.34619 22.7773 5.12061 22.8662C4.90186 22.9551 4.68311 22.9995 4.46436 22.9995C4.19092 22.9995 3.94482 22.8799 3.72607 22.6406C3.51416 22.4082 3.4082 22.0698 3.4082 21.6255C3.4082 19.7319 3.61328 18.0298 4.02344 16.519C4.44043 15.0015 5.07617 13.7061 5.93066 12.6328C6.79199 11.5596 7.88916 10.7393 9.22217 10.1719C10.562 9.60449 12.1514 9.3208 13.9902 9.3208H14.2876V5.44482C14.2876 5.10303 14.4004 4.80908 14.626 4.56299C14.8584 4.31689 15.1558 4.19385 15.5181 4.19385C15.7642 4.19385 15.9863 4.25195 16.1846 4.36816C16.3896 4.47754 16.6289 4.66211 16.9023 4.92188L24.9927 12.4893C25.1909 12.6738 25.3276 12.8618 25.4028 13.0532C25.478 13.2446 25.5156 13.4258 25.5156 13.5967C25.5156 13.7607 25.478 13.9385 25.4028 14.1299C25.3276 14.3213 25.1909 14.5093 24.9927 14.6938L16.9023 22.333C16.6562 22.5654 16.4204 22.7329 16.1948 22.8354C15.9761 22.9448 15.7437 22.9995 15.4976 22.9995ZM16.082 20.7949C16.1436 20.7949 16.2017 20.7642 16.2563 20.7026L23.5674 13.7915C23.6084 13.7505 23.6357 13.7163 23.6494 13.689C23.6631 13.6548 23.6699 13.624 23.6699 13.5967C23.6699 13.5352 23.6357 13.4702 23.5674 13.4019L16.2666 6.39844C16.2393 6.37793 16.2085 6.36084 16.1743 6.34717C16.147 6.32666 16.1196 6.31641 16.0923 6.31641C15.9897 6.31641 15.9385 6.36426 15.9385 6.45996V10.5308C15.9385 10.7563 15.8257 10.8691 15.6001 10.8691H14.2261C12.8179 10.8691 11.5977 11.0503 10.5654 11.4126C9.5332 11.7681 8.66162 12.2637 7.95068 12.8994C7.23975 13.5283 6.66211 14.2563 6.21777 15.0835C5.78027 15.9106 5.45557 16.7959 5.24365 17.7393C5.03174 18.6758 4.90527 19.626 4.86426 20.5898C4.86426 20.665 4.88818 20.7026 4.93604 20.7026C4.96338 20.7026 4.98389 20.6958 4.99756 20.6821C5.01123 20.6616 5.0249 20.6343 5.03857 20.6001C5.64014 19.3149 6.71338 18.2827 8.2583 17.5034C9.80322 16.7241 11.7925 16.3345 14.2261 16.3345H15.6001C15.8257 16.3345 15.9385 16.4473 15.9385 16.6729V20.6411C15.9385 20.7437 15.9863 20.7949 16.082 20.7949Z"
            fill={isDark ? "white" : "black"}
          />
        </svg>
      )}
      {icon === "close" && (
        <svg
          width="28"
          height="28"
          viewBox="0 0 28 28"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect
            width="28"
            height="28"
            rx="14"
            fill={isDark ? "white" : "black"}
            fill-opacity="0.08"
          />
          <path
            opacity="0.2"
            d="M17.6415 9.15672C17.9735 8.82481 18.5108 8.82478 18.8427 9.15672C19.1746 9.48865 19.1746 10.026 18.8427 10.3579L15.2011 13.9995L18.8437 17.6421L18.9023 17.7065C19.1744 18.0404 19.1548 18.5321 18.8437 18.8432C18.5325 19.1544 18.0398 19.1741 17.706 18.9018L17.6425 18.8432L13.9999 15.2007L10.3573 18.8432C10.0254 19.1751 9.48811 19.1751 9.15617 18.8432C8.82423 18.5113 8.82426 17.974 9.15617 17.6421L12.7987 13.9995L9.15714 10.3579C8.8252 10.0259 8.8252 9.48866 9.15714 9.15672C9.48909 8.82481 10.0264 8.82478 10.3583 9.15672L13.9999 12.7983L17.6415 9.15672Z"
            fill={isDark ? "white" : "black"}
          />
        </svg>
      )}

      {icon === "remove" && (
        <svg
          width="28"
          height="29"
          viewBox="0 0 28 29"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect
            y="0.894531"
            width="28"
            height="28"
            rx="8"
            fill={isDark ? "white" : "black"}
            fill-opacity="0.08"
          />
          <path
            opacity="0.2"
            d="M20 14.1445C20.4142 14.1445 20.75 14.4803 20.75 14.8945C20.75 15.3087 20.4142 15.6445 20 15.6445H8C7.58579 15.6445 7.25 15.3087 7.25 14.8945C7.25 14.4803 7.58579 14.1445 8 14.1445H20Z"
            fill={isDark ? "white" : "black"}
          />
        </svg>
      )}
      {icon === "minus" && (
        <svg
          width="15"
          height="4"
          viewBox="0 0 15 4"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.04004 3.08594C1.85742 3.08594 1.68587 3.0389 1.52539 2.94482C1.36491 2.84521 1.23486 2.71517 1.13525 2.55469C1.03564 2.38867 0.98584 2.20882 0.98584 2.01514C0.98584 1.82145 1.03564 1.64437 1.13525 1.48389C1.23486 1.3234 1.36491 1.19613 1.52539 1.10205C1.68587 1.00244 1.85742 0.952637 2.04004 0.952637H13.9517C14.1398 0.952637 14.3141 1.00244 14.4746 1.10205C14.6351 1.19613 14.7624 1.3234 14.8564 1.48389C14.9561 1.64437 15.0059 1.82145 15.0059 2.01514C15.0059 2.20882 14.9561 2.38867 14.8564 2.55469C14.7624 2.71517 14.6351 2.84521 14.4746 2.94482C14.3141 3.0389 14.1398 3.08594 13.9517 3.08594H2.04004Z"
            className="fill-foreground"
          />
        </svg>
      )}
      {icon === "plus" && (
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0.977539 8.00684C0.977539 7.71354 1.08268 7.46175 1.29297 7.25146C1.50326 7.04118 1.75505 6.93604 2.04834 6.93604H6.9375V2.05518C6.9375 1.76188 7.03988 1.51009 7.24463 1.2998C7.44938 1.08952 7.70117 0.984375 8 0.984375C8.29329 0.984375 8.54508 1.08952 8.75537 1.2998C8.96566 1.51009 9.0708 1.76188 9.0708 2.05518V6.93604H13.96C14.2477 6.93604 14.4967 7.04118 14.707 7.25146C14.9173 7.46175 15.0225 7.71354 15.0225 8.00684C15.0225 8.30566 14.9173 8.56022 14.707 8.77051C14.4967 8.97526 14.2477 9.07764 13.96 9.07764H9.0708V13.9668C9.0708 14.2546 8.96566 14.5036 8.75537 14.7139C8.54508 14.9242 8.29329 15.0293 8 15.0293C7.70117 15.0293 7.44938 14.9242 7.24463 14.7139C7.03988 14.5036 6.9375 14.2546 6.9375 13.9668V9.07764H2.04834C1.75505 9.07764 1.50326 8.97526 1.29297 8.77051C1.08268 8.56022 0.977539 8.30566 0.977539 8.00684Z"
            className="fill-foreground"
          />
        </svg>
      )}
    </button>
  );
};

export default IconButton;
